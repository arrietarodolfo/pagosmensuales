<!DOCTYPE html>
<html>
<head>
    <title>Calendario de Pagos Interactivo</title>
    <style>
        body { 
            font-family: 'Arial', sans-serif; 
            margin: 20px;
            background-color: #f5f5f5;
        }
        h2 { 
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }
        .month-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 15px;
            margin-bottom: 30px;
        }
        .calendar {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        .calendar th {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            text-align: center;
        }
        .calendar td {
            border: 1px solid #ddd;
            padding: 5px;
            height: 80px;
            vertical-align: top;
            width: 14%;
        }
        .day-number {
            font-weight: bold;
            margin-bottom: 3px;
        }
        .payment {
            background-color: #FFEBEE;
            border-left: 3px solid #F44336;
            border-radius: 3px;
            padding: 3px;
            margin: 2px 0;
            font-size: 11px;
            word-break: break-word;
            cursor: pointer;
            transition: all 0.3s;
        }
        .payment.paid {
            text-decoration: line-through;
            background-color: #E8F5E9;
            border-left: 3px solid #4CAF50;
            opacity: 0.7;
        }
        .other-month {
            background-color: #f9f9f9;
            color: #aaa;
        }
        .total-day {
            font-weight: bold;
            color: #F44336;
            margin-top: 3px;
            font-size: 12px;
        }
        .summary {
            background-color: #333;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>

<div class="month-container">
    <h2>MAYO 2025</h2>
    <table class="calendar">
        <tr>
            <th>Lunes</th><th>Martes</th><th>Miércoles</th><th>Jueves</th><th>Viernes</th><th>Sábado</th><th>Domingo</th>
        </tr>
        <tr>
            <td class="other-month"><div class="day-number">28</div></td>
            <td class="other-month"><div class="day-number">29</div></td>
            <td class="other-month"><div class="day-number">30</div></td>
            <td><div class="day-number">1</div></td>
            <td><div class="day-number">2</div></td>
            <td><div class="day-number">3</div></td>
            <td><div class="day-number">4</div></td>
        </tr>
        <tr>
            <td><div class="day-number">5</div></td>
            <td><div class="day-number">6</div></td>
            <td>
                <div class="day-number">7</div>
                <div class="payment" onclick="togglePayment(this)">Condominio Vzla: $30.00</div>
            </td>
            <td>
                <div class="day-number">8</div>
                <div class="payment" onclick="togglePayment(this)">Teléfono: $135.00</div>
            </td>
            <td><div class="day-number">9</div></td>
            <td><div class="day-number">10</div></td>
            <td><div class="day-number">11</div></td>
        </tr>
        <tr>
            <td><div class="day-number">12</div></td>
            <td>
                <div class="day-number">13</div>
                <div class="payment" onclick="togglePayment(this)">Teléfono Mati: $21.00</div>
            </td>
            <td><div class="day-number">14</div></td>
            <td><div class="day-number">15</div></td>
            <td><div class="day-number">16</div></td>
            <td><div class="day-number">17</div></td>
            <td><div class="day-number">18</div></td>
        </tr>
        <tr>
            <td><div class="day-number">19</div></td>
            <td><div class="day-number">20</div></td>
            <td>
                <div class="day-number">21</div>
                <div class="payment" onclick="togglePayment(this)">BlueChip: $150.00</div>
                <div class="payment" onclick="togglePayment(this)">Seguro Progressive: $121.00</div>
                <div class="payment" onclick="togglePayment(this)">Klarna Disney: $66.67</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Kim: $100.00</div>
                <div class="total-day">Total: $437.67</div>
            </td>
            <td><div class="day-number">22</div></td>
            <td><div class="day-number">23</div></td>
            <td>
                <div class="day-number">24</div>
                <div class="payment" onclick="togglePayment(this)">SeaWorld: $21.00</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Cauchos: $61.00</div>
                <div class="total-day">Total: $82.00</div>
            </td>
            <td><div class="day-number">25</div></td>
        </tr>
        <tr>
            <td><div class="day-number">26</div></td>
            <td>
                <div class="day-number">27</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Rodolfo: $150.00</div>
            </td>
            <td>
                <div class="day-number">28</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Kim: $141.75</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Kim: $107.50</div>
                <div class="total-day">Total: $249.25</div>
            </td>
            <td><div class="day-number">29</div></td>
            <td>
                <div class="day-number">30</div>
                <div class="payment" onclick="togglePayment(this)">Alquiler: $2,097.34</div>
                <div class="payment" onclick="togglePayment(this)">Santander Argentina: $193.08</div>
                <div class="total-day">Total: $2,290.42</div>
            </td>
            <td><div class="day-number">31</div></td>
            <td class="other-month"><div class="day-number">1</div></td>
        </tr>
    </table>
</div>

<div class="month-container">
    <h2>JUNIO 2025</h2>
    <table class="calendar">
        <tr>
            <th>Lunes</th><th>Martes</th><th>Miércoles</th><th>Jueves</th><th>Viernes</th><th>Sábado</th><th>Domingo</th>
        </tr>
        <tr>
            <td class="other-month"><div class="day-number">26</div></td>
            <td class="other-month"><div class="day-number">27</div></td>
            <td class="other-month"><div class="day-number">28</div></td>
            <td class="other-month"><div class="day-number">29</div></td>
            <td class="other-month"><div class="day-number">30</div></td>
            <td class="other-month"><div class="day-number">31</div></td>
            <td><div class="day-number">1</div></td>
        </tr>
        <tr>
            <td><div class="day-number">2</div></td>
            <td>
                <div class="day-number">3</div>
                <div class="payment" onclick="togglePayment(this)">Klarna Disney: $66.67</div>
            </td>
            <td>
                <div class="day-number">4</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Kim: $100.00</div>
            </td>
            <td><div class="day-number">5</div></td>
            <td><div class="day-number">6</div></td>
            <td>
                <div class="day-number">7</div>
                <div class="payment" onclick="togglePayment(this)">Condominio Vzla: $30.00</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Cauchos: $34.87</div>
                <div class="payment" onclick="togglePayment(this)">Anualidad Disney: $200.00</div>
                <div class="total-day">Total: $264.87</div>
            </td>
            <td>
                <div class="day-number">8</div>
                <div class="payment" onclick="togglePayment(this)">Teléfono: $135.00</div>
            </td>
        </tr>
        <tr>
            <td><div class="day-number">9</div></td>
            <td>
                <div class="day-number">10</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Rodolfo: $150.00</div>
            </td>
            <td><div class="day-number">11</div></td>
            <td><div class="day-number">12</div></td>
            <td>
                <div class="day-number">13</div>
                <div class="payment" onclick="togglePayment(this)">Teléfono Mati: $21.00</div>
            </td>
            <td><div class="day-number">14</div></td>
            <td><div class="day-number">15</div></td>
        </tr>
        <tr>
            <td><div class="day-number">16</div></td>
            <td>
                <div class="day-number">17</div>
                <div class="payment" onclick="togglePayment(this)">Klarna Disney: $66.67</div>
            </td>
            <td>
                <div class="day-number">18</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Kim: $100.00</div>
            </td>
            <td><div class="day-number">19</div></td>
            <td><div class="day-number">20</div></td>
            <td><div class="day-number">21</div></td>
            <td><div class="day-number">22</div></td>
        </tr>
        <tr>
            <td><div class="day-number">23</div></td>
            <td>
                <div class="day-number">24</div>
                <div class="payment" onclick="togglePayment(this)">SeaWorld: $21.00</div>
                <div class="payment" onclick="togglePayment(this)">AfterPay Rodolfo: $150.00</div>
                <div class="total-day">Total: $171.00</div>
            </td>
            <td><div class="day-number">25</div></td>
            <td><div class="day-number">26</div></td>
            <td><div class="day-number">27</div></td>
            <td><div class="day-number">28</div></td>
            <td><div class="day-number">29</div></td>
        </tr>
        <tr>
            <td>
                <div class="day-number">30</div>
                <div class="payment" onclick="togglePayment(this)">Alquiler: $2,097.34</div>
                <div class="payment" onclick="togglePayment(this)">Santander Argentina: $193.08</div>
                <div class="total-day">Total: $2,290.42</div>
            </td>
            <td class="other-month"><div class="day-number">1</div></td>
            <td class="other-month"><div class="day-number">2</div></td>
            <td class="other-month"><div class="day-number">3</div></td>
            <td class="other-month"><div class="day-number">4</div></td>
            <td class="other-month"><div class="day-number">5</div></td>
            <td class="other-month"><div class="day-number">6</div></td>
        </tr>
    </table>
</div>

<div class="summary">
    <p>Total de pagos: <span id="total-payments">0</span> | Pagados: <span id="paid-payments">0</span> | Pendientes: <span id="pending-payments">0</span></p>
</div>

<script>
    // Contador de pagos
    let totalPayments = 0;
    let paidPayments = 0;
    
    // Función para tachar/restaurar pagos (mejorada)
    function togglePayment(element) {
        console.log("Clic en pago:", element.textContent); // Depuración
        element.classList.toggle('paid');
        
        // Actualizar contadores
        paidPayments = document.querySelectorAll('.payment.paid').length;
        updateCounter();
        
        // Guardar en localStorage con ID único
        const paymentId = 'pay-' + element.textContent.trim().replace(/\s+/g, '-');
        if (element.classList.contains('paid')) {
            localStorage.setItem(paymentId, 'paid');
            console.log("Marcado como pagado:", paymentId); // Depuración
        } else {
            localStorage.removeItem(paymentId);
            console.log("Marcado como pendiente:", paymentId); // Depuración
        }
    }
    
    // Actualizar el contador
    function updateCounter() {
        totalPayments = document.querySelectorAll('.payment').length;
        document.getElementById('total-payments').textContent = totalPayments;
        document.getElementById('paid-payments').textContent = paidPayments;
        document.getElementById('pending-payments').textContent = totalPayments - paidPayments;
    }
    
    // Cargar pagos tachados al iniciar (versión robusta)
    document.addEventListener('DOMContentLoaded', function() {
        console.log("Página cargada, buscando pagos..."); // Depuración
        
        document.querySelectorAll('.payment').forEach(payment => {
            const paymentId = 'pay-' + payment.textContent.trim().replace(/\s+/g, '-');
            if (localStorage.getItem(paymentId)) {
                payment.classList.add('paid');
                console.log("Cargando pago pagado:", paymentId); // Depuración
            }
        });
        
        updateCounter();
        console.log("Contador actualizado. Total:", totalPayments, "Pagados:", paidPayments); // Depuración
    });
</script>

</body>
</html>